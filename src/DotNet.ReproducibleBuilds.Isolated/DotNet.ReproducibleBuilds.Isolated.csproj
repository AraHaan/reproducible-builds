<Project Sdk="Microsoft.Build.NoTargets">

  <PropertyGroup>
    <TargetFramework>netstandard1.0</TargetFramework>
    <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
    <!-- Don't emit netstandard1.0 as a dependency. We set TargetFramework just to get nuget restore working. -->
    <SuppressDependenciesWhenPacking>true</SuppressDependenciesWhenPacking>

    <!-- Suppress warning that nuget licenseurl field is deprecated. Keep both licenseurl and license for now for parity with DotNet.ReproducibleBuilds package. -->
    <NoWarn>$(NoWarn);NU5125</NoWarn>
  </PropertyGroup>
 

  <!-- Nuget properties -->
  <PropertyGroup>
    <Authors>.NET Foundation and Contributors</Authors>
    <DevelopmentDependency>true</DevelopmentDependency>
    <!-- <PackageLicenseUrl>https://github.com/dotnet/reproducible-builds/blob/main/LICENSE</PackageLicenseUrl> -->
    <PackageProjectUrl>https://github.com/dotnet/reproducible-builds</PackageProjectUrl>
    <Description>Enables reproducible build settings</Description>
    <ReleaseNotes>https://github.com/dotnet/reproducible-builds/blob/main/README.md</ReleaseNotes>
    <Copyright>© .NET Foundation</Copyright>
    <RepositoryType>git</RepositoryType>
    <RepositoryUrl>https://github.com/dotnet/reproducible-builds</RepositoryUrl>
    <PackageLicenseFile>licenses\LICENSE</PackageLicenseFile>
  </PropertyGroup>

  <ItemGroup>
    <None Include="Sdk\**" Pack="true" PackagePath="Sdk\" />
    <None Include="..\..\LICENSE" Pack="true" PackagePath="licenses\" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Nerdbank.GitVersioning" Version="3.4.194" PrivateAssets="all" />
  </ItemGroup>

  <Target Name="SetBuildVer" DependsOnTargets="GetBuildVersion" BeforeTargets="SetCloudBuildVersionVars;SetCloudBuildNumberWithVersion">
    <PropertyGroup>
      <RepositoryCommit>$(GitCommitId)</RepositoryCommit>
    </PropertyGroup>
  </Target>
</Project>
